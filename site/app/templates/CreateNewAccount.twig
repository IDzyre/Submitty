<div class="content shadow" id="login-box">
    <div id="login-guest">
     <!-- Add correct URL eventually -->
        <h1> Sign Up <a target=_blank href="https://submitty.org">
        <i style="font-style:normal;" class="fa-question-circle"></i>
        </a> </h1>
    </div>

    <form action="{{ signup_url }}" method="post" id="login">
        <div class="display-box"><p style="display:block">Email <button class="requirements-button" type="button" onclick="showRequirements(this.id)" id="email">Show Requirements</button></p></p>
            <div class="hidden-helper" id="email-helper">
                Accepted Email Extensions:<br/>
                {% for email, bool in requirements['email'] %}
                    @{{ email }}<br/>
                {% endfor %}
            </div>
            <input type="text" name="email" required data-testid="email" />
        </div>
        <div class="display-box">
            <p style="display:block">User ID <button class="requirements-button" type="button" onclick="showRequirements(this.id)" id="userid">Show Requirements</button></p>
            <div class="hidden-helper" id="userid-helper">
                UserID Requirements:<br/>
                {% if requirements['user_id']['all'] == true %}
                    All user ids of 
                    {% if requirements['user_id']['length'] == -1 %}
                        any length
                    {% else %}
                        length {{ requirements["user_id"]["length"] }}
                    {% endif %}
                    are accepted
                {% elseif requirements['user_id']['require_name'] == true %}
                    Must start with 
                    {{ requirements['user_id']['name_requirements']['givenname_first'] ? 
                    (requirements['user_id']['name_requirements']['given_name'] + 'characters of your given name') : 
                    (requirements['user_id']['name_requirements']['family_name'] + 'characters of your family name')}}
                {% elseif requirements['user_id']['require_email'] == true %}

                {% endif %}
            </div>
            <input type="text" name="user_id" data-testid="user-id" required />
        </div>
        <div class="display-box">
            Given Name
            <input type="text" name="given_name" data-testid="given-name" required />
        </div>
        <label>
            Family Name
            <input type="text" name="family_name" data-testid="family-name" required />
        </label>
        <div class="display-box">
           <p style="display:block">Password <button class="requirements-button" type="button" onclick="showRequirements(this.id)" id="password">Show Requirements</button></p>
            <div class="hidden-helper" id="password-helper">
                Password Requires at least:<br/>
                1 Capital Letter<br/>
                1 Lowercase Letter<br/>
                1 Number<br/>
                1 Special Character<br/>
                12 Characters<br/>
            </div>
            <input type="password" name="password" data-testid="password" required />
        </div>
        <label>
            Re-Enter Password
            <input type="password" name="confirm_password" data-testid="confirm-password" required />
        </label>
        <input type="submit" name="signup" value="Sign Up" class="btn btn-primary" data-testid="sign-up-button" />
    </form>
</div>


<script>

function showRequirements(id_string) {
    id_string = id_string + '-helper';
    if (document.getElementById(id_string).style.display === '' || document.getElementById(id_string).style.display === 'none') {
        document.getElementById(id_string).style.display = 'block';
    } else {
        document.getElementById(id_string).style.display = 'none';
    }
   
}
</script>

